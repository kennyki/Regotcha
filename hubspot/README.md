# HubSpot

| Table of Contents |
|:------------------|
| [[toc]] |

## Embedding CTA buttons in a Single Page App with support for I18N and font icons

You can create and embed CTA buttons following this [guide](https://knowledge.hubspot.com/cta-user-guide-v2/how-to-add-a-call-to-action-cta-to-a-non-hubspot-page) easily for static sites like Wordpress, but not for a SPA like AngularJS. Things to note:

#### Load the main script just once

Include `<script charset="utf-8" src="https://js.hscta.net/cta/current.js"></script>` *only once* in the HTML body.

#### Use hidden feature: onCTAReady

If you prettify  [https://js.hscta.net/cta/current.js](https://js.hscta.net/cta/current.js) you will find that on rendition of the *actual CTA button* it will invoke a callback `onCTAReady`.

Change parts in the embed code:

```html
<script type="text/javascript">hbspt.cta.load('your-hs-id', 'your-cta-id');</script>
```

to:


```html
<script type="text/javascript">
hbspt.cta.load('your-hs-id', 'your-cta-id', {
  onCTAReady: function onCTAReady() {
    var ctaBtnId = 'your-cta-id';
    // this el is generated by hubspot sdk
    var anchorEl = angular.element('#hs-cta-' + ctaBtnId + ' a');

    if (anchorEl.length) {
      // use your preferred I18n library
      anchorEl.html(I18n.gettext('Your CTA'));
      anchorEl.attr('title', I18n.gettext('Your CTA title'));
      // add icon if you wish
      anchorEl.prepend('<i class="fa fa-home"></i>');
    }
  }
});
</script>
```
